<?xml version="1.0" encoding="utf-8"?>
<template>
	<name>dictValueDao</name>
	<filePath>src/main/java/${packageName}/dao/dict</filePath>
	<fileName>DictValueMapper.java</fileName>
	<content><![CDATA[
package ${packageName}.dao.dict;

import java.util.List;

import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Result;
import org.apache.ibatis.annotations.Results;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Update;

import ${packageName}.entity.${datasourceName}.DictValuePO;
import ${packageName}.entity.${datasourceName}.DictValuePOExample;

/**
 * @author Hotpotmaterial-Code2
 *
 */
public interface DictValueMapper{
  
  /**
   * 查询所有DictValue
   * @param delFlag
   * @return
   */
  @Select("SELECT * FROM dict_value WHERE dict_code = #{code} AND del_flag = #{delFlag}")
  @Results({
    @Result(property = "dictCode", column = "dict_code")
  })
  List<DictValuePO> getAll(@Param("code") String code, @Param("delFlag") String delFlag);
  
  /**
   * 根据id查询DictValue
   * @param id
   * @return
   */
  @Select("SELECT * FROM dict_value WHERE del_flag = #{delFlag} AND id = #{id}")
  @Results({
    @Result(property = "createdBy", column = "created_by"),
    @Result(property = "updatedBy", column = "updated_by"),
    @Result(property = "dictCode", column = "dict_code")
  })
  DictValuePO findDictValue(@Param("id") String id, @Param("delFlag") String delFlag);
  
  /**
   * 根据DictType删除DictValue
   * @param id
   * @param delFlag
   */
  @Update("UPDATE dict_value SET del_flag = #{delFlag} WHERE dict_code = #{code}")
  void deleteDictValues(@Param("code") String code, @Param("delFlag") String delFlag);
  
  /**
   * 更新DictValue
   * @param dictValue
   */
  @Update("UPDATE dict_value SET name = #{name}, value = #{value}, "
      + "sort = #{sort}, dict_code = #{dictCode}, created_by = #{createdBy}, updated_by =#{updatedBy}, "
      + "created_at = #{createdAt}, updated_at = #{updatedAt} WHERE id = #{id}")
  void updateDictValue(DictValuePO dictValue);
  
  /**
   * 新增DictValue
   * @param dictValue
   */
  @Insert("INSERT INTO dict_value(id,name,value,sort,dict_code,created_by,updated_by,created_at,updated_at,del_flag) "
      + "VALUES "
      + "(#{id},#{name},#{value},#{sort},#{dictCode},#{createdBy},#{updatedBy},#{createdAt},#{updatedAt},#{delFlag})")
  void insertDictValue(DictValuePO dictValue);
  
  /**
   * 删除dictValue
   * @param id
   * @param delFlag
   */
  @Update("UPDATE dict_value SET del_flag = #{delFlag} WHERE id = #{id}")
  void deleteDictValue(@Param("id") String id, @Param("delFlag") String delFlag);
  
  /**
   * 分页查询
   * @param example
   * @return
   */
  List<DictValuePO> selectByExample(DictValuePOExample example);
  
  /**
   * 更新DictType下所有的DictValue
   * @param code
   * @param delFlag
   */
  @Update("UPDATE dict_value SET dict_code = #{newCode} WHERE dict_code = #{oldCode} AND del_flag = #{delFlag} ")
  void updateDictValues(@Param("newCode") String newCode, @Param("oldCode") String oldCode, @Param("delFlag") String delFlag);
}
	]]>
	</content>
</template>