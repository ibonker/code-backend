<?xml version="1.0" encoding="utf-8"?>
<template>
	<name>corsConfiguration</name>
	<filePath>src/main/java/${packageName}/${moduleName}/config</filePath>
	<fileName>CorsConfig.java</fileName>
	<content><![CDATA[
package ${packageName}<#if moduleName != "">.${moduleName}</#if>.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.cors.CorsConfiguration;
import org.springframework.web.cors.UrlBasedCorsConfigurationSource;
import org.springframework.web.filter.CorsFilter;

/**
 * CorsConfig
 *
 * @author TitanCode2
 *
 */
@Configuration
public class CorsConfig {
  
  /**
   * 跨域过滤器
   * 
   * @return
   */
  @Bean
  public CorsFilter corsFilter() {
    CorsConfiguration corsConfiguration = new CorsConfiguration();
    corsConfiguration.addAllowedOrigin("*");
    corsConfiguration.addAllowedHeader("*");
    corsConfiguration.addExposedHeader("AUTH_TOKEN");
    corsConfiguration.addAllowedMethod("*");
    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
    source.registerCorsConfiguration("/**", corsConfiguration); // 4
    return new CorsFilter(source);
  }
  
}
]]>
	</content>
</template>