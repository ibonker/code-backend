<?xml version="1.0" encoding="UTF-8"?>
<template>
    <name>applicationYaml</name>
    <filePath>src/main/resources/config</filePath>
    <fileName>application${postfix}.yml</fileName>
    <content><![CDATA[
<#if postfix == "">
# 应用信息
info:
  app_name: TITAN::${projectName}
  app_version: 0.1-SNAPSHOT
# tomcat配置  
server:
  tomcat:
    remote_ip_header: x-forwarded-for
    protocol_header: x-forwarded-proto
    baseDir: ''
    backgroundProcessorDelay: 1
    accessLogEnabled: true
    accessLogPattern: '%h %l %u %t "%r" %s %b %{Host}i %{Location}o'
  port: 8080
  session:
    timeout: 1000000
# spring配置    
spring:
  profiles:
    active: local
  <#if components?seq_contains("rescentersecurity")>  
  security:
    rest:
      ignorePath: /login
      matchPath: <#if (basePaths)?? ><#list basePaths as b>${b}/**,</#list></#if>/dict/api/v1/**,/logout
  </#if>
<#if dbcount == 1>
mybatis:
  type-aliases-package: ${packageName}.entity
  mapper-locations: classpath*:/mappings/*.xml,classpath*:/mappings/**/*.xml
</#if>
<#else>
spring:
<#if components?seq_contains("rescentersecurity")> 
  <#if postfix == "-test" || postfix == "-local">
  redis:
    database: 0
    host: 10.64.13.80
    port: 6379
  </#if>
</#if>
  datasource:
    <#list datasourcelist as datasource>
    druid:
      ${datasource.name}:
        driverClassName: ${datasource.dbdriver}
        url: ${datasource.dburl}
        username: ${datasource.dbuser}
        password: ${datasource.dbpassword}
        filters: stat
        connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000
    </#list>
logging:
  file: logs/application_log
  level:
    ROOT: INFO
    org.springframework.boot: INFO
    org.springframework.web: INFO
    com.changan.anywhere: DEBUG
uiconfig:
  path: ./ui-config/config.json
  menuPath: ./ui-config/menu_config.json
excel:
  importPath: ./importExcel/
<#if components?seq_contains("rescentersecurity")>  
  <#if postfix == "-test" || postfix == "-local">
res:
  center:
    server: 10.64.19.104:8085
  </#if>
</#if>
</#if>]]>
    </content>
</template>