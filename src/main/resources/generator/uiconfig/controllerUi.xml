<?xml version="1.0" encoding="utf-8"?>
<template>
  <name>controllerUi</name>
  <filePath>src/main/java/${packageName}/${moduleName}/controller/base</filePath>
  <fileName>UIConfigController.java</fileName>
  <content><![CDATA[
package ${packageName}<#if moduleName != "">.${moduleName}</#if>.controller.base;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

import com.changan.anywhere.common.mvc.page.rest.response.ResultDTO;
import ${packageName}.dto.other.UiConfigDTO;
import ${packageName}.dto.other.RequestUiConfigDTO;
import ${packageName}.service.IUiConfigService;
import com.changan.demo.common.RestStatus;

import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import io.swagger.annotations.ApiResponse;
import io.swagger.annotations.ApiResponses;

/**
 * 前端配置文件保存
 * @author TitanCode2
 *
 */
@Controller
@Api(value = "UiConfig", description = "the UiConfig API")
@RequestMapping(value = "/${mainpath}/api/common")
public class UIConfigController {

@Autowired
  private IUiConfigService uiConfigService;

  /**
   * ui配置获取接口
   * 
   * @return
   */
  @ApiOperation(value = "ui配置获取接口", notes = "ui配置获取接口", response = UiConfigDTO.class,
      tags = {"UIConfig"})
  @ApiResponses(
      value = {@ApiResponse(code = 200, message = "返回结果信息", response = UiConfigDTO.class),
          @ApiResponse(code = 401, message = "返回认证错误信息")})
  @RequestMapping(value = "/uiconfigs", produces = MediaType.APPLICATION_JSON_UTF8_VALUE, method = RequestMethod.GET)
  public ResponseEntity<ResultDTO> uiConfigGet() {
    return new ResponseEntity<ResultDTO>(new UiConfigDTO().data(uiConfigService.getUiConfig())
        .message(RestStatus.RESULT_SUCCESS.message()).statusCode(RestStatus.RESULT_SUCCESS.code()), HttpStatus.OK);
  }

  /**
   * ui配置保存接口
   * 
   * @param uiconfig
   * @return
   */
  @ApiOperation(value = "ui配置保存接口", notes = "ui配置保存接口", response = ResultDTO.class,
      tags = {"UIConfig"})
  @ApiResponses(value = {@ApiResponse(code = 200, message = "返回结果信息", response = ResultDTO.class),
      @ApiResponse(code = 401, message = "返回认证错误信息")})
  @RequestMapping(value = "/uiconfigs/save", produces = MediaType.APPLICATION_JSON_UTF8_VALUE,
      method = RequestMethod.POST)
  public ResponseEntity<ResultDTO> uiConfigPost(@RequestBody RequestUiConfigDTO uiconfig) {
    uiConfigService.saveUiConfig(uiconfig.getData());
    return new ResponseEntity<ResultDTO>(
        new ResultDTO().message(RestStatus.RESULT_SUCCESS.message()).statusCode(RestStatus.RESULT_SUCCESS.code()), 
        HttpStatus.OK);
  }

}
]]>
  </content>
</template>